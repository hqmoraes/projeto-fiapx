<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arquitetura de Microsserviços - Processamento de Vídeos</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            line-height: 1.6;
        }
        h1 {
            text-align: center;
            color: #333;
        }
        .diagram {
            max-width: 800px;
            margin: 30px auto;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        .row {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
        }
        .box {
            padding: 10px;
            border-radius: 5px;
            margin: 0 10px;
            text-align: center;
            min-width: 120px;
            font-weight: bold;
        }
        .api-gateway {
            background-color: #dae8fc;
            border: 1px solid #6c8ebf;
        }
        .auth {
            background-color: #ffe6cc;
            border: 1px solid #d79b00;
        }
        .microservice {
            background-color: #d5e8d4;
            border: 1px solid #82b366;
        }
        .messaging {
            background-color: #f8cecc;
            border: 1px solid #b85450;
        }
        .database {
            background-color: #e1d5e7;
            border: 1px solid #9673a6;
            border-radius: 5px 5px 15px 15px;
            padding-bottom: 15px;
        }
        .monitoring {
            background-color: #fff2cc;
            border: 1px solid #d6b656;
        }
        .kubernetes {
            background-color: #f5f5f5;
            border: 2px dashed #666666;
            padding: 10px;
            margin-top: 20px;
            text-align: center;
            font-weight: bold;
        }
        .arrow {
            text-align: center;
            margin: 5px 0;
        }
        .legend {
            margin-top: 30px;
            border-top: 1px solid #ddd;
            padding-top: 20px;
        }
        .legend-item {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }
        .legend-color {
            width: 20px;
            height: 20px;
            margin-right: 10px;
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <h1>Arquitetura de Microsserviços - Processamento de Vídeos</h1>
    
    <div class="diagram">
        <!-- API Gateway e Autenticação -->
        <div class="row">
            <div class="box auth">Serviço de<br>Autenticação</div>
            <div class="box api-gateway">API Gateway / Ingress</div>
        </div>
        
        <div class="arrow">↓</div>
        
        <!-- Microsserviços -->
        <div class="row">
            <div class="box microservice">Serviço de Upload<br>(API REST)</div>
            <div class="box microservice">Serviço de<br>Processamento</div>
            <div class="box microservice">Serviço de<br>Armazenamento</div>
        </div>
        
        <div class="arrow">↓</div>
        
        <!-- Message Broker -->
        <div class="row">
            <div class="box messaging">Message Broker<br>(RabbitMQ)</div>
        </div>
        
        <div class="arrow">↓</div>
        
        <!-- Bancos de Dados -->
        <div class="row">
            <div class="box database">PostgreSQL<br>(Metadados)</div>
            <div class="box database">Redis<br>(Cache)</div>
            <div class="box database">MinIO / S3<br>(Vídeos)</div>
        </div>
        
        <div class="arrow">↓</div>
        
        <!-- Monitoramento e CI/CD -->
        <div class="row">
            <div class="box monitoring" style="width: 80%;">Monitoramento & Logging<br>(Prometheus, Grafana, ELK)</div>
        </div>
        
        <div class="row">
            <div class="box monitoring" style="width: 80%;">CI/CD Pipeline<br>(GitHub Actions, Jenkins)</div>
        </div>
        
        <!-- Kubernetes -->
        <div class="kubernetes">Kubernetes Cluster</div>
        
        <!-- Legenda -->
        <div class="legend">
            <h3>Legenda:</h3>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #dae8fc; border: 1px solid #6c8ebf;"></div>
                <div>API Gateway / Ingress</div>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #ffe6cc; border: 1px solid #d79b00;"></div>
                <div>Autenticação</div>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #d5e8d4; border: 1px solid #82b366;"></div>
                <div>Microsserviços Core</div>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #f8cecc; border: 1px solid #b85450;"></div>
                <div>Message Broker</div>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #e1d5e7; border: 1px solid #9673a6;"></div>
                <div>Persistência de Dados</div>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #fff2cc; border: 1px solid #d6b656;"></div>
                <div>Monitoramento/CI/CD</div>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #f5f5f5; border: 1px dashed #666666;"></div>
                <div>Plataforma Kubernetes</div>
            </div>
        </div>
    </div>
</body>
</html>
