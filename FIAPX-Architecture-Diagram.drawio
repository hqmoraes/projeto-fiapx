<?xml version="1.0" encoding="UTF-8"?>
<mxfile host="app.diagrams.net" modified="2025-01-01T12:00:00.000Z" agent="5.0" etag="FIAPX-ARCH-2025" version="24.6.4">
  <diagram name="FIAP-X Platform Architecture" id="fiapx-complete-architecture">
    <mxGraphModel dx="2200" dy="1400" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1800" pageHeight="1400" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        
        <!-- Background -->
        <mxCell id="background" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8f9fa;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="20" y="20" width="1760" height="1360" as="geometry" />
        </mxCell>

        <!-- Title -->
        <mxCell id="title" value="FIAP-X Video Processing Platform - Complete Architecture" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=28;fontStyle=1;fontColor=#1565C0;" vertex="1" parent="1">
          <mxGeometry x="300" y="40" width="1200" height="50" as="geometry" />
        </mxCell>

        <!-- Production URLs Box -->
        <mxCell id="urlsBox" value="🌐 PRODUCTION URLS&#xa;&#xa;Frontend: https://fiapx.wecando.click&#xa;API Gateway: https://api.wecando.click&#xa;SSL: Let's Encrypt (Auto-renewal)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8F5E8;strokeColor=#2E7D32;fontSize=14;fontStyle=1;align=left;verticalAlign=top;spacingLeft=15;spacingTop=15;" vertex="1" parent="1">
          <mxGeometry x="50" y="120" width="300" height="100" as="geometry" />
        </mxCell>

        <!-- USER LAYER -->
        <mxCell id="userLayer" value="👤 USER INTERACTION LAYER" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E3F2FD;strokeColor=#1565C0;fontSize=16;fontStyle=1;verticalAlign=top;spacingTop=15;" vertex="1" parent="1">
          <mxGeometry x="50" y="250" width="1700" height="120" as="geometry" />
        </mxCell>
        
        <mxCell id="endUser" value="👨‍💻&#xa;End User" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;fillColor=#1976D2;strokeColor=#0D47A1;fontColor=#FFFFFF;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="150" y="280" width="60" height="80" as="geometry" />
        </mxCell>
        
        <mxCell id="webBrowser" value="🌐 Web Browser&#xa;Chrome, Firefox, Safari&#xa;HTTPS Only" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#BBDEFB;strokeColor=#1976D2;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="300" y="285" width="180" height="70" as="geometry" />
        </mxCell>

        <mxCell id="mobileDevice" value="📱 Mobile Device&#xa;Responsive Design&#xa;PWA Ready" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#BBDEFB;strokeColor=#1976D2;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="520" y="285" width="180" height="70" as="geometry" />
        </mxCell>

        <!-- PRESENTATION LAYER -->
        <mxCell id="presentationLayer" value="🎨 PRESENTATION LAYER (Frontend)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF3E0;strokeColor=#F57C00;fontSize=16;fontStyle=1;verticalAlign=top;spacingTop=15;" vertex="1" parent="1">
          <mxGeometry x="50" y="390" width="1700" height="140" as="geometry" />
        </mxCell>
        
        <mxCell id="frontendApp" value="🎯 Frontend Application&#xa;HTML5 + CSS3 + JavaScript&#xa;https://fiapx.wecando.click&#xa;• Video Upload (Drag &amp; Drop)&#xa;• Real-time Queue Monitoring&#xa;• User Dashboard&#xa;• Download Center" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFE0B2;strokeColor=#F57C00;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="150" y="420" width="250" height="90" as="geometry" />
        </mxCell>
        
        <mxCell id="nginxIngress" value="🔧 Nginx Ingress Controller&#xa;• SSL Termination&#xa;• Load Balancing&#xa;• Route Management&#xa;• Static File Serving" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFCC80;strokeColor=#F57C00;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="450" y="420" width="250" height="90" as="geometry" />
        </mxCell>

        <mxCell id="certManager" value="🔐 Cert Manager&#xa;• Let's Encrypt Integration&#xa;• Auto SSL Renewal&#xa;• Certificate Management&#xa;• HTTPS Enforcement" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFCC80;strokeColor=#F57C00;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="750" y="420" width="200" height="90" as="geometry" />
        </mxCell>

        <!-- API GATEWAY LAYER -->
        <mxCell id="gatewayLayer" value="🌐 API GATEWAY LAYER" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F3E5F5;strokeColor=#7B1FA2;fontSize=16;fontStyle=1;verticalAlign=top;spacingTop=15;" vertex="1" parent="1">
          <mxGeometry x="50" y="550" width="1700" height="100" as="geometry" />
        </mxCell>
        
        <mxCell id="apiGateway" value="🔗 API Gateway&#xa;https://api.wecando.click&#xa;Routes: /auth | /upload | /processing | /storage&#xa;• Request Routing • Authentication • Rate Limiting" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E1BEE7;strokeColor=#7B1FA2;fontSize=14;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="400" y="580" width="400" height="50" as="geometry" />
        </mxCell>

        <!-- MICROSERVICES LAYER -->
        <mxCell id="microservicesLayer" value="⚙️ MICROSERVICES LAYER (Backend)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8F5E8;strokeColor=#2E7D32;fontSize=16;fontStyle=1;verticalAlign=top;spacingTop=15;" vertex="1" parent="1">
          <mxGeometry x="50" y="670" width="1700" height="200" as="geometry" />
        </mxCell>
        
        <mxCell id="authService" value="🔐 Auth Service&#xa;Port: 8082 | Go&#xa;• User Registration&#xa;• JWT Authentication&#xa;• Session Management&#xa;• User Profile" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C8E6C9;strokeColor=#2E7D32;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="100" y="710" width="160" height="120" as="geometry" />
        </mxCell>
        
        <mxCell id="uploadService" value="📤 Upload Service&#xa;Port: 8080 | Go&#xa;• Video Upload (100MB)&#xa;• File Validation&#xa;• Format Detection&#xa;• Queue Dispatch" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C8E6C9;strokeColor=#2E7D32;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="300" y="710" width="160" height="120" as="geometry" />
        </mxCell>
        
        <mxCell id="processingService" value="⚙️ Processing Service&#xa;Port: 8080 | Go&#xa;• Video Processing&#xa;• Frame Extraction&#xa;• Queue Management&#xa;• Status Tracking" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C8E6C9;strokeColor=#2E7D32;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="500" y="710" width="160" height="120" as="geometry" />
        </mxCell>
        
        <mxCell id="storageService" value="💾 Storage Service&#xa;Port: 8080 | Go&#xa;• Metadata Management&#xa;• File Organization&#xa;• Download Links&#xa;• Statistics" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C8E6C9;strokeColor=#2E7D32;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="700" y="710" width="160" height="120" as="geometry" />
        </mxCell>
        
        <mxCell id="notificationService" value="📧 Notification Service&#xa;Background Worker&#xa;• Email Notifications&#xa;• SES Integration&#xa;• Event Processing&#xa;• Status Updates" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C8E6C9;strokeColor=#2E7D32;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="900" y="710" width="160" height="120" as="geometry" />
        </mxCell>

        <!-- MESSAGE QUEUE LAYER -->
        <mxCell id="messageLayer" value="📨 MESSAGE QUEUE & CACHE LAYER" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF8E1;strokeColor=#FF8F00;fontSize=16;fontStyle=1;verticalAlign=top;spacingTop=15;" vertex="1" parent="1">
          <mxGeometry x="50" y="890" width="1700" height="140" as="geometry" />
        </mxCell>
        
        <mxCell id="rabbitmq" value="🐰 RabbitMQ&#xa;Message Broker&#xa;Queues:&#xa;• video_processing&#xa;• video_processed&#xa;• notifications" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFECB3;strokeColor=#FF8F00;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="200" y="920" width="200" height="80" as="geometry" />
        </mxCell>
        
        <mxCell id="redisCache" value="⚡ Redis Cache&#xa;Port: 6380&#xa;• Session Storage&#xa;• Processing State&#xa;• Queue Status&#xa;• Temp Data" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFECB3;strokeColor=#FF8F00;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="450" y="920" width="200" height="80" as="geometry" />
        </mxCell>

        <!-- PERSISTENCE LAYER -->
        <mxCell id="persistenceLayer" value="💾 PERSISTENCE LAYER (Data Storage)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFEBEE;strokeColor=#C62828;fontSize=16;fontStyle=1;verticalAlign=top;spacingTop=15;" vertex="1" parent="1">
          <mxGeometry x="50" y="1050" width="1700" height="140" as="geometry" />
        </mxCell>
        
        <mxCell id="postgresql" value="🐘 PostgreSQL&#xa;Relational Database&#xa;• User Data&#xa;• Authentication&#xa;• Video Metadata&#xa;• Processing History" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFCDD2;strokeColor=#C62828;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="150" y="1080" width="180" height="80" as="geometry" />
        </mxCell>
        
        <mxCell id="minioStorage" value="📦 MinIO Object Storage&#xa;S3-Compatible&#xa;Buckets:&#xa;• video-uploads (Raw)&#xa;• video-processed (Frames)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFCDD2;strokeColor=#C62828;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="380" y="1080" width="200" height="80" as="geometry" />
        </mxCell>
        
        <mxCell id="localStorage" value="💿 File System&#xa;Local Storage&#xa;• Temporary Files&#xa;• Processing Workspace&#xa;• Logs &amp; Cache" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFCDD2;strokeColor=#C62828;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="630" y="1080" width="180" height="80" as="geometry" />
        </mxCell>

        <!-- INFRASTRUCTURE LAYER -->
        <mxCell id="infraLayer" value="☁️ INFRASTRUCTURE & CLOUD LAYER" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E3F2FD;strokeColor=#1565C0;fontSize=16;fontStyle=1;verticalAlign=top;spacingTop=15;" vertex="1" parent="1">
          <mxGeometry x="1100" y="670" width="630" height="380" as="geometry" />
        </mxCell>
        
        <mxCell id="kubernetesCluster" value="☸️ Kubernetes Cluster&#xa;Self-Managed&#xa;• Pod Orchestration&#xa;• Auto-scaling&#xa;• Service Discovery&#xa;• Health Monitoring" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#BBDEFB;strokeColor=#1565C0;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="1140" y="710" width="180" height="80" as="geometry" />
        </mxCell>
        
        <mxCell id="dockerHub" value="🐳 Docker Hub&#xa;hmoraes/*&#xa;• Container Registry&#xa;• Image Versioning&#xa;• ARM64 Support&#xa;• Auto-builds" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#BBDEFB;strokeColor=#1565C0;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="1360" y="710" width="180" height="80" as="geometry" />
        </mxCell>
        
        <mxCell id="awsCloud" value="☁️ AWS Cloud&#xa;EC2 ARM64 Instances&#xa;• t4g.medium&#xa;• Auto-scaling Groups&#xa;• Load Balancers&#xa;• VPC Networking" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#BBDEFB;strokeColor=#1565C0;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="1140" y="820" width="180" height="80" as="geometry" />
        </mxCell>
        
        <mxCell id="amazonSES" value="📧 Amazon SES&#xa;Email Service&#xa;• SMTP Relay&#xa;• Notification Delivery&#xa;• Bounce Handling&#xa;• Analytics" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#BBDEFB;strokeColor=#1565C0;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="1360" y="820" width="180" height="80" as="geometry" />
        </mxCell>

        <!-- MONITORING LAYER -->
        <mxCell id="monitoringLayer" value="📊 MONITORING & OBSERVABILITY" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F1F8E9;strokeColor=#33691E;fontSize=16;fontStyle=1;verticalAlign=top;spacingTop=15;" vertex="1" parent="1">
          <mxGeometry x="1140" y="930" width="400" height="120" as="geometry" />
        </mxCell>
        
        <mxCell id="prometheus" value="📈 Prometheus&#xa;Metrics Collection&#xa;• /metrics endpoints&#xa;• Time-series DB&#xa;• Alerting Rules" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#DCEDC8;strokeColor=#33691E;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="1160" y="960" width="160" height="70" as="geometry" />
        </mxCell>
        
        <mxCell id="grafana" value="📊 Grafana&#xa;Dashboards&#xa;• Real-time Charts&#xa;• Alert Management&#xa;• Custom Panels" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#DCEDC8;strokeColor=#33691E;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="1360" y="960" width="160" height="70" as="geometry" />
        </mxCell>

        <!-- EXTERNAL SERVICES -->
        <mxCell id="externalLayer" value="🌍 EXTERNAL SERVICES" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FCE4EC;strokeColor=#AD1457;fontSize=16;fontStyle=1;verticalAlign=top;spacingTop=15;" vertex="1" parent="1">
          <mxGeometry x="850" y="1080" width="400" height="110" as="geometry" />
        </mxCell>
        
        <mxCell id="letsEncrypt" value="🔒 Let's Encrypt&#xa;Free SSL Certificates&#xa;• Auto-renewal&#xa;• Domain Validation&#xa;• Certificate Authority" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F8BBD9;strokeColor=#AD1457;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="870" y="1110" width="160" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="dnsProvider" value="🌐 DNS Provider&#xa;wecando.click&#xa;• Domain Management&#xa;• A/CNAME Records&#xa;• SSL Validation" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F8BBD9;strokeColor=#AD1457;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="1070" y="1110" width="160" height="60" as="geometry" />
        </mxCell>

        <!-- CONNECTIONS AND FLOWS -->
        
        <!-- User to Browser -->
        <mxCell id="userToBrowser" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#1976D2;strokeWidth=3;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="endUser" target="webBrowser">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- Browser to Frontend -->
        <mxCell id="browserToFrontend" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#F57C00;strokeWidth=3;" edge="1" parent="1" source="webBrowser" target="frontendApp">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="390" y="380" />
              <mxPoint x="275" y="380" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <!-- Frontend to Nginx -->
        <mxCell id="frontendToNginx" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#F57C00;strokeWidth=3;" edge="1" parent="1" source="frontendApp" target="nginxIngress">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- Nginx to API Gateway -->
        <mxCell id="nginxToApiGateway" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#7B1FA2;strokeWidth=3;" edge="1" parent="1" source="nginxIngress" target="apiGateway">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- API Gateway to Microservices -->
        <mxCell id="apiToAuth" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#2E7D32;strokeWidth=2;" edge="1" parent="1" source="apiGateway" target="authService">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="500" y="650" />
              <mxPoint x="180" y="650" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="apiToUpload" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#2E7D32;strokeWidth=2;" edge="1" parent="1" source="apiGateway" target="uploadService">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="550" y="650" />
              <mxPoint x="380" y="650" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="apiToProcessing" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#2E7D32;strokeWidth=2;" edge="1" parent="1" source="apiGateway" target="processingService">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="apiToStorage" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#2E7D32;strokeWidth=2;" edge="1" parent="1" source="apiGateway" target="storageService">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="650" y="650" />
              <mxPoint x="780" y="650" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <!-- Microservices to Message Queue -->
        <mxCell id="uploadToRabbit" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#FF8F00;strokeWidth=2;" edge="1" parent="1" source="uploadService" target="rabbitmq">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="380" y="870" />
              <mxPoint x="300" y="870" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="processingToRabbit" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#FF8F00;strokeWidth=2;" edge="1" parent="1" source="processingService" target="rabbitmq">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="580" y="870" />
              <mxPoint x="300" y="870" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="processingToRedis" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#FF8F00;strokeWidth=2;" edge="1" parent="1" source="processingService" target="redisCache">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="rabbitToNotification" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#FF8F00;strokeWidth=2;" edge="1" parent="1" source="rabbitmq" target="notificationService">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="300" y="870" />
              <mxPoint x="980" y="870" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <!-- Microservices to Persistence -->
        <mxCell id="authToPostgres" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#C62828;strokeWidth=2;" edge="1" parent="1" source="authService" target="postgresql">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="180" y="1040" />
              <mxPoint x="240" y="1040" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="uploadToMinio" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#C62828;strokeWidth=2;" edge="1" parent="1" source="uploadService" target="minioStorage">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="380" y="1040" />
              <mxPoint x="480" y="1040" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="storageToAll" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#C62828;strokeWidth=2;" edge="1" parent="1" source="storageService" target="postgresql">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="780" y="1040" />
              <mxPoint x="240" y="1040" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="storageToMinio" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#C62828;strokeWidth=2;" edge="1" parent="1" source="storageService" target="minioStorage">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="780" y="1040" />
              <mxPoint x="480" y="1040" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="processingToFS" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#C62828;strokeWidth=2;" edge="1" parent="1" source="processingService" target="localStorage">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="580" y="1040" />
              <mxPoint x="720" y="1040" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <!-- External Connections -->
        <mxCell id="notificationToSES" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#1565C0;strokeWidth=2;" edge="1" parent="1" source="notificationService" target="amazonSES">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="980" y="860" />
              <mxPoint x="1450" y="860" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="certToLetsEncrypt" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#AD1457;strokeWidth=2;" edge="1" parent="1" source="certManager" target="letsEncrypt">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="850" y="530" />
              <mxPoint x="1300" y="530" />
              <mxPoint x="1300" y="1200" />
              <mxPoint x="950" y="1200" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <!-- Monitoring Connections -->
        <mxCell id="servicesToPrometheus" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#33691E;strokeWidth=2;dashed=1;" edge="1" parent="1" source="processingService" target="prometheus">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="580" y="840" />
              <mxPoint x="1240" y="840" />
              <mxPoint x="1240" y="995" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="prometheusToGrafana" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#33691E;strokeWidth=2;" edge="1" parent="1" source="prometheus" target="grafana">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- FEATURE HIGHLIGHTS -->
        <mxCell id="featuresBox" value="🔑 KEY FEATURES&#xa;&#xa;✅ HTTPS/SSL Auto-Management&#xa;✅ Microservices Architecture&#xa;✅ Event-Driven Processing&#xa;✅ Real-time Queue Monitoring&#xa;✅ Auto-scaling (Kubernetes)&#xa;✅ Cloud-Native Design&#xa;✅ ARM64 Optimized&#xa;✅ 100MB Video Upload&#xa;✅ Frame Extraction&#xa;✅ Email Notifications" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8F5E8;strokeColor=#2E7D32;fontSize=12;fontStyle=0;align=left;verticalAlign=top;spacingLeft=15;spacingTop=15;" vertex="1" parent="1">
          <mxGeometry x="1000" y="280" width="240" height="200" as="geometry" />
        </mxCell>

        <!-- TECHNICAL STACK -->
        <mxCell id="techStackBox" value="🛠️ TECHNOLOGY STACK&#xa;&#xa;• Frontend: HTML5 + CSS3 + JavaScript&#xa;• Backend: Go (Golang)&#xa;• API Gateway: Nginx Ingress&#xa;• Database: PostgreSQL&#xa;• Cache: Redis (6380)&#xa;• Queue: RabbitMQ&#xa;• Storage: MinIO (S3-compatible)&#xa;• Container: Docker + Kubernetes&#xa;• Cloud: AWS EC2 ARM64&#xa;• Monitoring: Prometheus + Grafana&#xa;• SSL: Let's Encrypt (auto-renewal)&#xa;• Email: Amazon SES" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E3F2FD;strokeColor=#1565C0;fontSize=12;fontStyle=0;align=left;verticalAlign=top;spacingLeft=15;spacingTop=15;" vertex="1" parent="1">
          <mxGeometry x="1280" y="280" width="280" height="240" as="geometry" />
        </mxCell>

        <!-- API ENDPOINTS -->
        <mxCell id="apiEndpointsBox" value="🌐 API ENDPOINTS&#xa;&#xa;📍 Frontend: https://fiapx.wecando.click&#xa;📍 API Base: https://api.wecando.click&#xa;&#xa;🔐 Auth Service (/auth):&#xa;• POST /register - User registration&#xa;• POST /login - JWT authentication&#xa;• GET /me - User profile&#xa;&#xa;📤 Upload Service (/upload):&#xa;• POST /upload - Video upload (100MB)&#xa;• GET /health - Health check&#xa;&#xa;⚙️ Processing Service (/processing):&#xa;• GET /status/{id} - Processing status&#xa;• GET /queue/status - Queue overview&#xa;• GET /queue/position/{id} - Queue position&#xa;• GET /metrics - Prometheus metrics&#xa;&#xa;💾 Storage Service (/storage):&#xa;• GET /videos - List user videos&#xa;• GET /videos/{id} - Video details&#xa;• DELETE /videos/{id} - Delete video&#xa;• GET /stats - User statistics&#xa;• GET /download/{id} - Download ZIP" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF3E0;strokeColor=#F57C00;fontSize=11;fontStyle=0;align=left;verticalAlign=top;spacingLeft=15;spacingTop=15;" vertex="1" parent="1">
          <mxGeometry x="1600" y="280" width="320" height="400" as="geometry" />
        </mxCell>

        <!-- DATA FLOWS -->
        <mxCell id="dataFlow1" value="📊 DATA FLOWS" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1;fontColor=#1565C0;" vertex="1" parent="1">
          <mxGeometry x="400" y="120" width="150" height="30" as="geometry" />
        </mxCell>
        
        <mxCell id="flow1" value="1️⃣ User Authentication &amp; Upload" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontColor=#1976D2;fontStyle=2;" vertex="1" parent="1">
          <mxGeometry x="700" y="320" width="200" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="flow2" value="2️⃣ Video Processing Pipeline" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontColor=#FF8F00;fontStyle=2;" vertex="1" parent="1">
          <mxGeometry x="700" y="960" width="200" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="flow3" value="3️⃣ Storage &amp; Metadata Management" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontColor=#C62828;fontStyle=2;" vertex="1" parent="1">
          <mxGeometry x="50" y="1200" width="250" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="flow4" value="4️⃣ Notifications &amp; Monitoring" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontColor=#33691E;fontStyle=2;" vertex="1" parent="1">
          <mxGeometry x="1300" y="1200" width="200" height="20" as="geometry" />
        </mxCell>

        <!-- DEPLOYMENT INFO -->
        <mxCell id="deploymentBox" value="🚀 DEPLOYMENT STATUS&#xa;&#xa;Environment: Production&#xa;Cluster: Kubernetes (Self-managed)&#xa;Infrastructure: AWS EC2 ARM64&#xa;Domain: wecando.click&#xa;SSL: Let's Encrypt (Auto-renewal)&#xa;Container Registry: Docker Hub&#xa;Build Target: ARM64 Architecture&#xa;Health Status: ✅ All Services Online&#xa;Last Deploy: Auto via GitHub Actions" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F1F8E9;strokeColor=#33691E;fontSize=12;fontStyle=0;align=left;verticalAlign=top;spacingLeft=15;spacingTop=15;" vertex="1" parent="1">
          <mxGeometry x="400" y="1240" width="300" height="120" as="geometry" />
        </mxCell>

        <!-- VERSION INFO -->
        <mxCell id="versionBox" value="📋 VERSION INFO&#xa;&#xa;Platform Version: v2.0&#xa;Go Version: 1.21+&#xa;Kubernetes: v1.28+&#xa;Docker: 20.10+&#xa;Node Architecture: ARM64&#xa;Upload Limit: 100MB&#xa;Processing: Frame extraction&#xa;Queue: Real-time monitoring&#xa;Notifications: Email via SES" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FCE4EC;strokeColor=#AD1457;fontSize=12;fontStyle=0;align=left;verticalAlign=top;spacingLeft=15;spacingTop=15;" vertex="1" parent="1">
          <mxGeometry x="750" y="1240" width="250" height="120" as="geometry" />
        </mxCell>

        <!-- Footer -->
        <mxCell id="footer" value="FIAP-X Video Processing Platform | Production Architecture | Updated: January 2025" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontColor=#666666;fontStyle=2;" vertex="1" parent="1">
          <mxGeometry x="400" y="1320" width="800" height="30" as="geometry" />
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
